# FR_test
Сервис разработан на django rest framework с celery

## Установка проекта 

1. Склонировать репозиторий с Github
```
git clone git@github.com:Twiaxs/FR_test.git
```
1. Запустить контейнеры 
``` 
sudo docker-compose up -d
 ```
2. Остановка работы контейнеров 
```
sudo docker-compose stop
```
***
```http://0.0.0.0:8000/api/``` - api проекта

```http://0.0.0.0:8000/api/v1/client/destroy/<pk>``` - удалить клиента

```http://0.0.0.0:8000/api/v1/client/update/<int:pk>``` - изменить клиента

```http://0.0.0.0:8000/api/v1/clients``` - клиенты

```http://0.0.0.0:8000/api/v1/delivery/``` - рассылки

```http://0.0.0.0:8000/api/v1/delivery/Update/<pk>``` - изменить рассылку

```http://0.0.0.0:8000/api/v1/delivery/destroy/<int:pk>``` - удалить рассылку

```http://0.0.0.0:8000/api/v1/message/``` - сообщения

```http://0.0.0.0:8000/api/v1/message/stat``` - общая статистика

```http://0.0.0.0:8000/docs/``` - документация к апи
***

## Выполненые дополнительные задания

<li>подготовить docker-compose для запуска всех сервисов проекта одной командой</li>
<li>сделать так, чтобы по адресу <i> /docs/ </i> открывалась страница со Swagger UI и в нём отображалось описание разработанного API. Пример: <a href="https://petstore.swagger.io" target="_blank">https://petstore.swagger.io</a></li>
<li>реализовать администраторский Web UI для управления рассылками и получения статистики по отправленным сообщениям</li>
<li>удаленный сервис может быть недоступен, долго отвечать на запросы или выдавать некорректные ответы. Необходимо организовать обработку ошибок и откладывание запросов при неуспехе для последующей повторной отправки. Задержки в работе внешнего сервиса никак не должны оказывать влияние на работу сервиса рассылок.</li>
<li>реализовать дополнительную бизнес-логику: добавить в сущность "рассылка" поле "временной интервал", в котором можно задать промежуток времени, в котором клиентам <li>можно отправлять сообщения с учётом их локального времени. Не отправлять клиенту сообщение, если его локальное время не входит в указанный интервал.</li>
обеспечить подробное логирование на всех этапах обработки запросов, чтобы при эксплуатации была возможность найти в логах всю информацию по
id рассылки - все логи по конкретной рассылке (и запросы на api и внешние запросы на отправку конкретных сообщений)
id сообщения - по конкретному сообщению (все запросы и ответы от внешнего сервиса, вся обработка конкретного сообщения)
id клиента - любые операции, которые связаны с конкретным клиентом (добавление/редактирование/отправка сообщения/…)
</li>
